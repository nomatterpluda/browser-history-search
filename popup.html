<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Browser History Search</title>
    <link rel="stylesheet" href="popup.css">
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>History Search</h1>
        </div>
        
        <div class="search-section">
            <input 
                type="text" 
                id="searchInput" 
                placeholder="Describe the page you're looking for..."
                autocomplete="off"
            >
            <button id="extractButton" class="extract-button" title="Extract content from current page">
                📄 Extract Current Page
            </button>
            <button id="statsButton" class="stats-button" title="View extraction statistics">
                📊 View Stats
            </button>
            <button id="settingsButton" class="settings-button" title="Configure OpenAI API">
                ⚙️ Settings
            </button>
        </div>
        
        <div class="results-section">
            <div id="loadingState" class="loading hidden">
                <div class="spinner"></div>
                <span>Searching...</span>
            </div>
            
            <div id="resultsContainer" class="results-container">
                <!-- Search results will be populated here -->
            </div>
            
            <div id="noResults" class="no-results hidden">
                <p>No results found. Try a different search term.</p>
            </div>
        </div>
        
        <!-- Settings Modal -->
        <div id="settingsModal" class="modal hidden">
            <div class="modal-content">
                <div class="modal-header">
                    <h2>⚙️ Extension Settings</h2>
                    <button id="closeModal" class="close-button">&times;</button>
                </div>
                <div class="modal-body">
                    <div class="setting-group">
                        <label for="apiKeyInput">OpenAI API Key:</label>
                        <input type="password" id="apiKeyInput" placeholder="sk-..." />
                        <small>Required for semantic search. Get your key from <a href="https://platform.openai.com/api-keys" target="_blank">OpenAI</a></small>
                    </div>
                    <div class="setting-group">
                        <div id="apiStatus" class="api-status">
                            <span id="statusText">Not configured</span>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button id="saveSettings" class="save-button">💾 Save Settings</button>
                    <button id="testApi" class="test-button">🧪 Test API Key</button>
                </div>
            </div>
        </div>
    </div>
    
    <script src="popup.js"></script>
</body>
</html> 